<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/community.css"/>
    <link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
    <script type="application/javascript" src="js/jquery-3.5.1.min.js"></script>
    <script type="application/javascript" src="js/bootstrap.min.js"></script>
    <script type="application/javascript" src="js/mouseenter.js"></script>
</head>
<script type="application/javascript">
    // 通过community.js中传来的closable判断登录
    window.onload = function(){
        var closable = window.localStorage.getItem(closable);
        if(closable == true){
            window.close();
            window.localStorage.removeItem("closable");
        }
    }

</script>
<body>
  <!-- 引入导航栏 -->
  <div th:insert="~{navgation :: nav}"></div>
  <!-- 搜索 -->
  <div class="container-fluid">
      <div class="row search-local">
          <div class="top-search">
          <form class="navbar-form navbar-left" method="get">
              <div class="form-group top-search" >
                  <input type="text" class="form-control" name="search" style="width:400px" placeholder="搜索话题">
                  <button id="search" type="submit" class="btn search-btn">Search</button>
              </div>
          </form>
          </div>
      </div>
  </div>
  <!-- 正文 -->
  <div class="container-fluid">
    <div class="row main-header">
        <div class="col-md-12 .col-md-12 .col-sm-12 .col-xs-12">
            <h2 class="header-left">
                <span aria-hidden="true">
                    <img src="/images/list.png" style="width: 40px">
                </span>
                <span >推荐</span>
            </h2>
            <span class="header-right">
                <span>推荐</span>
                <span>最新</span>
                <span>热点</span>
            </span>
        </div>

    </div>

        <div class="col-md-4 .col-md-12 .col-sm-12 .col-xs-12 main-author">
            <h2>站长信息</h2>
            <hr class="col-md-10 .col-md-12 .col-sm-12 .col-xs-12">
        </div>

    <div class="row main">
        <!-- 发现 -->
        <div class="col-lg-9 .col-md-12 .col-sm-12 .col-xs-12">

            <div class="media index-content" th:each="question : ${pagination.data}">
                <div class="media-left">
                    <a class="content-instance" href="#">
                        <img class="media-object img-circle" th:src="${question.getUser().getAvatarUrl()}">
                    </a>
                </div>

                <div class="media-body">
                    <h4 class="media-heading">
                    <a class="index-title" th:href="@{'/question/'+${question.getId()}}"><span th:text="${question.getTitle()}"></span></a>
                    </h4>
<!--                    <h5 th:text="${question.getDescription()}"></h5>-->
                    <span th:text="${question.getCommentCount()}"></span>个评论 •
                    <span th:text="${question.getViewCount()}"></span>次浏览 •
                    <span th:text="${#calendars.format(question.getGmtCreate(),'dd MMMM yyyy')}"></span>
                </div>
            </div>
            <div>

            </div>
            <nav aria-label="Page navigation">
                <ul class="pagination">

                    <li th:if="${pagination.showFirstPage}">
                        <a th:href="@{/(page=1,search=${search})}" aria-label="Previous">
                            <span aria-hidden="true">&lt;&lt;</span>
                        </a>
                    </li>
                    <li th:if="${pagination.showPrevious} ">
                        <a th:href="@{/(page=${pagination.page}-1,search=${search})}" aria-label="Previous">
                            <span aria-hidden="true">&lt;</span>
                        </a>
                    </li>

                    <li th:if="${pagination.showPrevious != true}">

                    </li>
                    <li th:each="page : ${pagination.pages}">
                        <a th:href="@{/(page=${page},search=${search})}" th:text="${page}" th:class="${page == pagination.page}?'active':''"></a>
                    </li>

                    <li th:if="${pagination.showNext}">
                        <a th:href="@{/(page=${pagination.page+1},search=${search})}" aria-label="Previous">
                            <span aria-hidden="true">&gt;</span>
                        </a>
                    </li>
                    <li th:if="${pagination.showEndPage}">
                        <a th:href="@{/(page=${pagination.getTotalPage()})}" aria-label="Previous">
                            <span aria-hidden="true">&gt;&gt;</span>
                        </a>
                    </li>

                </ul>
            </nav>
        </div>

    </div>

    <!-- 热门话题 -->
    <div class="">
        <div class="col-lg-3 .col-md-12 .col-sm-12 .col-xs-12 main-hotspot">
            <h2>热门话题</h2>
        </div>
    </div>
</div>
  <!-- 备案号 -->
  <div th:insert="~{footer :: foot}"></div>
</body>
</html>